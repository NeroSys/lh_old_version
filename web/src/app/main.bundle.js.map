{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.html","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.service.ts","./src/app/model/alert.ts","./src/app/model/marker.ts","./src/app/model/variant-collection.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"<div class=\\\"price\\\" *ngIf=\\\"price\\\">{{price}} грн. <span *ngIf=\\\"oldPrice\\\">{{oldPrice}} грн.</span></div>\\r\\n<form (ngSubmit)=\\\"onSubmit()\\\">\\r\\n    <div *ngFor=\\\"let field of fields\\\" class=\\\"form-group\\\" >\\r\\n        <label>{{field.option_name}}</label>\\r\\n        <div *ngIf=\\\"field.type === 'radio'\\\">\\r\\n            <div class=\\\"form-check radio\\\" *ngFor=\\\"let option of field.values\\\">\\r\\n                <label class=\\\"form-check-label\\\" for=\\\"{{'field_' + field.option_id}}\\\">\\r\\n                    <input\\r\\n                        [(ngModel)]=\\\"selectedData[field.option_id]\\\"\\r\\n                        (change)=\\\"select(field.option_id)\\\"\\r\\n                        name=\\\"{{'field_' + field.option_id}}\\\"\\r\\n                        type=\\\"radio\\\"\\r\\n                        class=\\\"form-check-input\\\"\\r\\n                        value=\\\"{{option.option_value_id}}\\\"\\r\\n                        [attr.disabled]=\\\"!option.status ? true : null\\\"\\r\\n                        [checked]=\\\"selectedData[field.option_id] === option.option_value_id\\\">\\r\\n                        >\\r\\n                    {{option.option_value_name}} ({{ option.price }} грн.)\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"field.type === 'select'\\\" >\\r\\n            <select\\r\\n                [(ngModel)]=\\\"selectedData[field.option_id]\\\"\\r\\n                (change)=\\\"select(field.option_id)\\\"\\r\\n                name=\\\"{{'field_' + field.option_id}}\\\"\\r\\n                class=\\\"form-control\\\">\\r\\n                    <option *ngFor=\\\"let option of field.values\\\"\\r\\n                    value=\\\"{{option.option_value_id}}\\\"\\r\\n                    [attr.disabled]=\\\"!option.status ? true : null\\\"\\r\\n                    [selected]=\\\"selectedData[field.option_id] === option.option_value_id\\\">\\r\\n                        {{option.option_value_name}}\\r\\n                    </option>\\r\\n            </select>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group form-group-actions\\\">\\r\\n        <label class=\\\"control-label\\\" for=\\\"input-quantity\\\">Количество</label>\\r\\n        <input\\r\\n            [(ngModel)]=\\\"selectedData.quantity\\\"\\r\\n            type=\\\"number\\\"\\r\\n            name=\\\"quantity\\\"\\r\\n            value=\\\"1\\\"\\r\\n            size=\\\"2\\\"\\r\\n            id=\\\"input-quantity\\\"\\r\\n            class=\\\"form-control\\\">\\r\\n        <button type=\\\"submit\\\" id=\\\"button-cart\\\" data-loading-text=\\\"Загрузка...\\\" class=\\\"btn btn-primary btn-lg btn-block\\\"><span>Купить</span></button>\\r\\n\\r\\n        <div class=\\\"add-to-links\\\">\\r\\n            <div class=\\\"btn-group\\\">\\r\\n                <div class=\\\"wishlist\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" title=\\\"В закладки\\\">\\r\\n                        <span>В закладки</span></button>\\r\\n                </div>\\r\\n                <div class=\\\"compare\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" title=\\\"В сравнение\\\">\\r\\n                        <span>В сравнение</span></button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <a class=\\\"dashed\\\" (click)=\\\"open(content)\\\">Наличие в магазинах</a>\\r\\n        </div>\\r\\n    </div>\\r\\n</form>\\r\\n<div class=\\\"product-massage\\\">\\r\\n    <p *ngFor=\\\"let alert of alerts\\\">\\r\\n      <ngb-alert *ngIf=\\\"alert.message\\\" [type]=\\\"alert.type\\\" (close)=\\\"alert.message = null\\\"><span [innerHTML]=\\\"alert.message\\\"></span></ngb-alert>\\r\\n    </p>\\r\\n</div>\\r\\n\\r\\n<ng-template #content let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <h4 class=\\\"modal-title\\\">Наличие в магазинах</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\r\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"selectedVariant.availability\\\">\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <div class=\\\"row store-item\\\" *ngFor=\\\"let item of selectedVariant.availability\\\">\\r\\n                    <div class=\\\"col-md-3\\\"><img src=\\\"image/{{item.stock.image}}\\\" width=\\\"100\\\" alt=\\\"{{item.stock.name}}\\\"> </div>\\r\\n                    <div class=\\\"col-md-9\\\">\\r\\n                        <p *ngIf=\\\"item.stock.name\\\"><b>{{item.stock.name}}</b></p>\\r\\n                        <p *ngIf=\\\"item.stock.address\\\"><i>{{item.stock.address}}</i></p>\\r\\n                        <p *ngIf=\\\"item.stock.open\\\">{{item.stock.open}}</p>\\r\\n                        <p *ngIf=\\\"item.stock.telephone\\\">{{item.stock.telephone}}</p>\\r\\n                        <p *ngIf=\\\"item.stock.comment\\\">{{item.stock.comment}}</p>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <ngui-map zoom=\\\"11\\\" center=\\\"Киев, Цум\\\">\\r\\n                    <marker *ngFor=\\\"let pos of selectedVariant.availability\\\"\\r\\n                        (click)=\\\"showInfoWindow($event)\\\"\\r\\n                        [position]=\\\"[pos.stock.geocode.lat, pos.stock.geocode.lng]\\\"></marker>\\r\\n\\r\\n                    <info-window id=\\\"iw\\\">\\r\\n                        test\\r\\n                    </info-window>\\r\\n                </ngui-map>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</ng-template>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = ./src/app/app.component.scss\n// module chunks = main","import {Component, enableProdMode, OnInit} from '@angular/core';\r\nimport {MainService} from './app.service';\r\nimport {VariantCollection} from './model/variant-collection';\r\nimport {OptionGroup} from './model/option-group';\r\nimport {Option} from \"./model/option\";\r\nimport {Variant} from \"./model/variant\";\r\nimport {Alert} from \"./model/alert\";\r\nimport {Marker} from \"./model/marker\";\r\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport {} from '@types/googlemaps';\r\n\r\ndeclare var product_id: any;\r\nenableProdMode();\r\n\r\n@Component({\r\n    selector: 'app-product-options',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n    public price: number = null;\r\n    public oldPrice: number = null;\r\n    public alerts: Alert[] = [];\r\n    public selectedData = {quantity: 1};\r\n    public selectedVariant: Variant;\r\n    public marker: Marker;\r\n    public fields: OptionGroup[] = [];\r\n    private variants: VariantCollection;\r\n\r\n    positions = [];\r\n\r\n\r\n    constructor(private mainService: MainService, private modalService: NgbModal) {\r\n        this.variants = new VariantCollection();\r\n        this.marker = new Marker;\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        this.mainService\r\n            .getSpecifications(product_id)\r\n            .then(\r\n                variants => this.variants.setData(variants)\r\n            ).then(\r\n            e => {\r\n                this.setData(this.variants);\r\n                this.setDefaultValues();\r\n            }\r\n        );\r\n    }\r\n\r\n    public select(optionId: number): void {\r\n        this.setChoice();\r\n        this.setOptionsStatus(optionId);\r\n    }\r\n\r\n    public onSubmit(): void {\r\n        let query = this.prepareRequestAddToCart();\r\n        let alert = new Alert();\r\n        alert.message = '';\r\n        this.mainService.addToCart(query).then(\r\n            response => {\r\n                if(response.error !== undefined){\r\n                    alert.type = 'error';\r\n                    response.error.option.forEach(msg => {alert.message += msg + ' '});\r\n                } else if (response.success !== undefined){\r\n                    alert.type = 'success';\r\n                    alert.message = response.success;\r\n                }\r\n                this.setAlert(alert);\r\n            }\r\n        )\r\n    }\r\n\r\n    public open(content) {\r\n        this.modalService.open(content, { size: 'lg' }).result.then((result) => {\r\n\r\n        }, (reason) => {\r\n\r\n        });\r\n    }\r\n\r\n\r\n    private setChoice(): void {\r\n        this.setSelectedOptions();\r\n        this.setCaption();\r\n    }\r\n\r\n    private setSelectedOptions(): void {\r\n        let data: any = [];\r\n        this.fields.forEach(variant => {\r\n            if (this.selectedData[variant.option_id]) {\r\n                const option = variant.values.find(item => (item.option_value_id === this.selectedData[variant.option_id]));\r\n                this.variants.setAvailableVariants(option);\r\n                data.push(option);\r\n            }\r\n        });\r\n        this.selectedVariant = this.variants.findBy(data);\r\n        if(this.selectedVariant === undefined){\r\n            this.selectedVariant = this.variants.getFirstBy(data[0]);\r\n            this.selectedVariant.options.forEach(option => {\r\n                this.selectedData[option.option_id] = option.option_value_id\r\n            })\r\n\r\n        }\r\n        this.setPrice();\r\n    }\r\n\r\n    private setPrice():void {\r\n        this.oldPrice = this.selectedVariant.price_old;\r\n        this.price = this.selectedVariant.price;\r\n    }\r\n\r\n    private setCaption(): void {\r\n        let caption = '';\r\n        this.fields.forEach(field => {\r\n            let option = field.values.find(item => (item.option_value_id === this.selectedData[field.option_id]));\r\n            if (option !== undefined) {\r\n                caption +=  caption.length > 0 ? '; ' : '';\r\n                caption += field.option_name + ': ' + option.option_value_name;\r\n            }\r\n        });\r\n    }\r\n\r\n    private setData(variants: VariantCollection):void {\r\n        variants.getAll().forEach(variant => {\r\n            variant.options.forEach(\r\n                option => {\r\n                    this.setOptionItem(option);\r\n                }\r\n            );\r\n\r\n        });\r\n    }\r\n\r\n    private setOptionItem(option: Option): void {\r\n        let group_index = this.fields.findIndex(item => option.option_id === item.option_id);\r\n        if (group_index < 0) {\r\n            this.fields.push({\r\n                option_id: option.option_id,\r\n                option_name: option.option_name,\r\n                product_option_id: option.product_option_id,\r\n                type: option.type,\r\n                status: true,\r\n                values: [option]\r\n            });\r\n        } else {\r\n            if (!this.fields[group_index].values.find(item => item.option_value_id === option.option_value_id)) {\r\n                this.fields[group_index].values.push(option);\r\n            }\r\n        }\r\n    }\r\n\r\n    private setDefaultValues(): void {\r\n        this.variants.getFirst().options.forEach(option => {\r\n            this.selectedData[option.option_id] = option.option_value_id;\r\n        });\r\n\r\n        this.setChoice();\r\n        this.setOptionsStatus(this.selectedVariant.options[0].option_id);\r\n    }\r\n\r\n    private setOptionsStatus(optionId: number): void {\r\n        let itsAfterSelectedOption: boolean = false;\r\n        let queryData: Option[] = [];\r\n\r\n        this.selectedVariant.options.forEach(option => {\r\n\r\n            if(itsAfterSelectedOption){\r\n                this.setOptionsStatusForNextFields(option.option_id, queryData);\r\n            } else {\r\n                queryData.push(option);\r\n            }\r\n\r\n            if (option.option_id === optionId){\r\n                itsAfterSelectedOption = true;\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    private setOptionsStatusForNextFields(option_id, query: Option[]){\r\n        let findBy: Option[];\r\n\r\n        this.fields.forEach((field, fi) => {\r\n            if (field.option_id !== option_id)\r\n                return false;\r\n\r\n            field.values.forEach((option, fiv) => {\r\n                findBy  = Object.assign([], query);\r\n                findBy.push(option);\r\n                this.fields[fi].values[fiv].status = this.variants.findBy(findBy) === undefined ? false : true;\r\n            });\r\n        });\r\n    }\r\n\r\n    private prepareRequestAddToCart(): string {\r\n        let request = {};\r\n        request['quantity'] = this.selectedData['quantity'];\r\n        request['product_id'] = product_id;\r\n        request['option'] = [];\r\n\r\n        let body = 'quantity=' + this.selectedData['quantity'];\r\n        body += '&product_id=' + product_id;\r\n\r\n        this.selectedVariant.options.forEach(\r\n            option => {\r\n                request['option'][option.product_option_id] = option.option_value_id;\r\n                body += '&option[' + option.product_option_id + ']=' + option.option_value_id;\r\n\r\n            }\r\n        );\r\n        console.log(this.selectedVariant);\r\n        console.log(this.selectedData);\r\n        console.log(body);\r\n        return body;\r\n    }\r\n\r\n    private setAlert(alert: Alert){\r\n        let index = this.alerts.findIndex(find => find.type === alert.type);\r\n        if(index < 0){\r\n            this.alerts.push(alert);\r\n        } else {\r\n            this.alerts[index] = alert;\r\n        }\r\n    }\r\n\r\n    public showInfoWindow({target: marker}){\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\r\nimport {NgModule} from '@angular/core';\r\n\r\nimport {AppComponent} from './app.component';\r\nimport {MainService} from './app.service';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {HttpClientModule} from '@angular/common/http';\r\nimport {NgbModalModule, NgbAlertModule} from \"@ng-bootstrap/ng-bootstrap\";\r\nimport {NguiMapModule} from \"@ngui/map\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        FormsModule,\r\n        HttpClientModule,\r\n        NgbModalModule.forRoot(),\r\n        NgbAlertModule.forRoot(),\r\n        NguiMapModule.forRoot({\r\n            apiUrl: 'https://maps.google.com/maps/api/js?libraries=visualization,places,drawing&key=AIzaSyCLMYSWmhRhzAMf-hLcMafs3S-E3ifStjE'\r\n        })\r\n    ],\r\n    providers: [MainService],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Injectable} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport {environment} from '../environments/environment';\r\nimport {Variant} from \"./model/variant\";\r\nimport {VariantCollection} from \"./model/variant-collection\";\r\n\r\n@Injectable()\r\nexport class MainService {\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getSpecifications(id_product: number): Promise<VariantCollection> {\r\n        const url = `${environment.apiUrl}index.php?route=product/product/options/&product_id=${id_product}`;\r\n        return this.http.get(url)\r\n            .toPromise()\r\n            .then(response => response as Variant[])\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    addToCart(data): Promise<any> {\r\n        const headers = new HttpHeaders({ 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'});\r\n        return this.http.post(`${environment.apiUrl}index.php?route=checkout/cart/add`, data, {headers: headers})\r\n            .toPromise()\r\n            .then(response => response)\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    private handleError(error: any): Promise<any> {\r\n        console.error('An error occurred', error);\r\n        return Promise.reject(error.message || error);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.service.ts","export class Alert {\r\n    type: string;\r\n    message: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/alert.ts","export class Marker {\r\n    display: true;\r\n    lat: number;\r\n    lng: number;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/marker.ts","import {Variant} from './variant';\r\nimport {Option} from \"./option\";\r\n\r\nexport class VariantCollection {\r\n    private data: Variant[] = [];\r\n\r\n    public setData(data):void {\r\n        this.data = data;\r\n    }\r\n\r\n    public getAll(): Variant[] {\r\n        return this.data;\r\n    }\r\n\r\n    public getFirst(): Variant {\r\n        return this.data[0];\r\n    }\r\n\r\n    public getFirstBy(option: Option): Variant {\r\n        return this.data.filter(variant => {\r\n            return variant.options.find(\r\n                option_variant => option_variant.option_value_name === option.option_value_name\r\n            )\r\n        })[0];\r\n    }\r\n\r\n    public getActiveItems(): Variant[] {\r\n        return this.data.filter(variant => variant.status === true)\r\n    }\r\n\r\n    public getCountItems(): number {\r\n        return this.getAll().length;\r\n    }\r\n\r\n    public getCountActiveItems(): number {\r\n        return this.getActiveItems().length;\r\n    }\r\n\r\n    public setAvailableVariants(data: Option): void {\r\n        this.data.forEach(\r\n            (variant, index) => {\r\n                this.data[index].status = this.data[index].options.find(option => option.option_value_id === data.option_value_id) ? true : false;\r\n            }\r\n        )\r\n    }\r\n\r\n    public findBy(options: Option[]): Variant {\r\n        let variants = this.data;\r\n        options.forEach(\r\n            option => {\r\n                variants = variants.filter(\r\n                    variant => {\r\n                        return variant.options.find(\r\n                            option_variant => option_variant.option_value_name === option.option_value_name\r\n                        )\r\n                    }\r\n                )\r\n            }\r\n        )\r\n        return variants[0];\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/model/variant-collection.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n    production: false,\r\n    apiUrl: 'http://lh.loc:802/'\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}